<!DOCTYPE html>
<html>
<head>
    <!-- the phonegap.js stub is helpful for Phonegap Build to enable plugins and features. There is no phonegap.js -->
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Planit</title>
</head>
<body>


<div data-role="page" id="page-auth" class="neon-back">
    <div class="logo-container">
        <img alt="Its your white" src="img/its_your_white.png" style="width: 117px; height: 50px;" />
        <img alt="Logo only white" src="img/logo_only_white.png" style="width: 42px; height: 50px;" />
        <img alt="Logo name only white" src="img/logo_name_only_white.png" style="width: 86px; height: 50px;" />
        <img alt="Ellipsis white" src="img/ellipsis_white.png" style="width: 20px; height: 50px;" />
    </div>
    <div class='simple-entry-form'>
    <!-- <div class="title-h1"><b>Sign In</b> | Sign Up</div>         -->
        <form accept-charset="UTF-8" action="/users" class="simple_form edit_user" id="edit_user" method="post"><div style="display:none"><input name="utf8" type="hidden" value="&#x2713;" /><input name="_method" type="hidden" value="put" /><input name="authenticity_token" type="hidden" value="olbO884MakkaXcZiRalQuj5HmYjlhutclFOvYyk+5U4=" /></div>          
            <div class='simple-entry-form-section'>
              <span class='icomoon icon-user simple-form-icon'></span>
              <div class="input string required user_first_name"><input aria-required="true" autofocus="autofocus" class="string required" id="user_first_name" maxlength="255" name="user[first_name]" placeholder="First Name" required="required" size="255" type="text" /></div>
            </div>
            <div class='simple-entry-form-section'>
              <span class='simple-form-icon'></span>
              <div class="input string required user_last_name"><input aria-required="true" class="string required" id="user_last_name" maxlength="255" name="user[last_name]" placeholder="Last Name" required="required" size="255" type="text" /></div>
            </div>
            <div class='simple-entry-form-section'>
              <i class='fa fa-envelope simple-form-icon'></i>
              <div class="input email required user_email"><input aria-required="true" autofocus="autofocus" class="string email required" id="user_email" maxlength="255" name="user[email]" placeholder="Email" required="required" size="255" type="email" /></div>
            </div>
        </form>
    </div>
    <div class="facebook-login"><a href="#page-map">Facebook Login</a></div>
</div>

<div data-role="page" id="page-settings" class="blue-back">
    <div class="planit-header">
        <a href="#page-map"><img src="img/logo_map.png" class="header-menu-icon-left"></a>
        <div class="header-title">planit <b>Settings</b></div>
    </div>
    <div data-role="content" class="below-header">

        <!-- A picker for the basemap. These are contrived to work with the BASEMAPS array. For more info, see selectBasemap() and $('input[type="radio"][name="basemap"]') -->

        <div class="setting-title">Notification Radius</div>

        <div data-role="controlgroup" style="visibility: hidden; display: none;">
            <label><input type="radio" name="basemap" value="mapquest" checked="true" /> Mapquest</label>
            <label><input type="radio" name="basemap" value="terrain" /> Terrain</label>
            <label><input type="radio" name="basemap" value="photo" /> Satellite</label>
            <label><input type="checkbox" id="basemap_offline_checkbox" value="1" /> Offline, use cached map data</label>
        </div>

        <div class="setting-title">GPS Location</div>
        <div data-role="controlgroup">
            <label><input type="checkbox" name="features" value="gps" checked="true" /> Show GPS location</label>
            <label><input type="checkbox" name="features" value="autocenter" checked="true" /> Auto-center map on movement</label>
        </div>

        <div class="setting-title">Offline Mode</div>
        <div data-role="controlgroup" style="visibility: hidden; display: none;">
            <a href="#page-seedcache" data-role="button" data-rel="dialog">Download map tiles</a>
            <a href="#page-cachestatus" data-role="button" data-rel="dialog">Storage Usage</a>
        </div>

        <div class="setting-title">Account</div>

    </div>
</div>


<div data-role="page" id="page-map">
    <div class="planit-header">
        <a href="#page-settings"><img src="img/settings.png" class="header-menu-icon-left"></a>
        <input class="main-search-bar" placeholder="Search">
        <a href="#page-add"><img src="img/add_new.png" class="header-menu-icon-right"></a>
    </div>
    <div data-role="content">
        <div id="map_canvas"></div>
    </div>
</div>


<div data-role="page" id="page-add">
    <div class="planit-header">
        <a href="#page-map"><img src="img/logo_map.png" class="header-menu-icon-left"></a>
        <div class="header-title">Add <b>new place</b></div>
    </div>
    <div data-role="content" class="below-header">

    <input type="text" id="geocoder_text" placeholder="Destination" />
    <a href="javascript:void(0);" id="geocoder_button" data-role="button" data-theme="b">Search</a>

    </div>
</div>


<div data-role="page" id="page-seedcache">
    <div data-role="header" data-position="inline">
    <h1>Download Tiles?</h1>
    </div>

    <div data-role="content">
        <p>This will download map tiles within the current map view, so you can use the map without Internet access. This will take a while.</p>
        <a href="javascript:void(0);" name="seedcache" data-role="button" data-rel="back" data-theme="b">Download</a>
        <a href="#page-settings" data-role="button" data-rel="back">Cancel</a>
    </div>
</div>


<div data-role="page" id="page-cachestatus">
    <div data-role="header" data-position="inline">
    <h1>Cache Storage</h1>
    </div>


    <div data-role="content">
        <input type="text" id="cachestatus_storage" value="Calculating" readonly="readonly" style="text-align:center;" />
        <input type="text" id="cachestatus_files" value="Calculating" readonly="readonly" style="text-align:center;" />
        <a href="#page-clearcache" data-role="button" data-rel="dialog">Clear map tiles</a>
        <a href="#page-settings" data-role="button" data-rel="back">Back</a>
    </div>
</div>


<div data-role="page" id="page-clearcache">
    <div data-role="header" data-position="inline">
    <h1>Clear Tiles?</h1>
    </div>

    <div data-role="content">
        <p>This will delete the downloaded map tiles. You will not be able to use the map when offline, until you go online and browse to re-cache the map.</p>
        <a href="javascript:void(0);" name="clearcache" data-role="button" data-rel="back" data-theme="b">Clear cache</a>
        <a href="#page-cachestatus" data-role="button" data-rel="back">Cancel</a>
    </div>
</div>


<div data-role="dialog" id="dialog-error">
    <div data-role="header">
        <h1></h1>
    </div>
    <div data-role="content">
    </div>
</div>



<!--
JAVASCRIPT CODE: putting it at the end of the BODY solves race conditions on iPad
If you run this via Xcode or if you use weinre, or if you run on emulators,
there's enough added lag that these race conditions will not happen
but when you run it "for real" the deviceready simply never happens and your app doesn't work at all.
-->
    <!-- the stub for Cordova/Phonegap; this file doesn't exist but this entry must be here -->
    <script src="cordova.js"></script>

    <!-- jQuery and JQ Mobile -->
    <script type="text/javascript" src="libs/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="libs/jquery.mobile-1.4.0/jquery.mobile-1.4.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="libs/jquery.mobile-1.4.0/jquery.mobile-1.4.0.css" />

    <!-- Leaflet et al -->
    <link rel="stylesheet" type="text/css" href="libs/leaflet-0.7.2/leaflet.css" />
    <script type="text/javascript" src="libs/leaflet-0.7.2/leaflet-src.js"></script>

    <!-- a caching system for Leaflet L.TileLayer -->
    <script type="text/javascript" src="libs/cache.js"></script>

    <!-- weinre debugging for development; replace with your own IP address and your own weinre server -->
    <!--
    <script src="http://weinre.greeninfo.org:8080/target/target-script-min.js#mobilemapstarter"></script>
    -->

    <!-- our own custom stuff. on device ready, the init() function in index.js will be called to start up everything -->
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="library.js"></script>
    <script type="text/javascript">
    if ( is_cordova() ) {
        document.addEventListener("deviceready", init, false);
    } else {
        $(document).ready(init);
    }
    </script>

</body>
</html>

